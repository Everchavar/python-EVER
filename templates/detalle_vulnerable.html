<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DEMO: Inyección SQL - UNION SELECT</title>
    <!-- Incluye Bootstrap para el estilo -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body class="bg-light">
    <div class="container p-5 mt-5 bg-white shadow rounded">
        
        <h1 class="text-danger border-bottom pb-2 mb-4">Punto Vulnerable de Datos</h1>
        
        <p class="lead">ID Consultado: {{ plato[0] }}</p>
        
        <hr class="my-4">

        <!-- BLOQUE DE ERROR -->
        {% if plato[1] == "ERROR DE SINTAXIS O COLUMNAS (Prueba con otro número de columnas)" %}
            <div class="alert alert-danger" role="alert">
                Error de Consulta: La inyección falló.
                <p>Mensaje: <code class="text-dark">{{ plato[2] }}</code></p>
            </div>
        {% endif %}

        <!-- RESULTADOS INYECTADOS -->
        <h2 class="mt-4 text-primary">Resultado de la Consulta SQL</h2>
        
        <div class="p-3 mb-3 border bg-light rounded">
            
            <h5 class="text-dark">Campo 1 (Columna 2):</h5>
            <!-- Aquí aparecerá el dato inyectado de la Columna 2 -->
            <p class="fs-5">{{ plato[1] }}</p>
            
            <h5 class="text-dark mt-4">Campo 2 (Columna 3):</h5>
            <!-- Aquí aparecerá el dato inyectado de la Columna 3 -->
            <p class="fs-5">{{ plato[2] }}</p>
        </div>
        
        <p class="mt-5">
            <a href="{{ url_for('home') }}" class="btn btn-primary">Volver al Inicio</a>
        </p>
        
        <small class="text-muted d-block mt-3">
            <strong>Instrucción de Ataque:</strong> <br>
            <code>.../plato_detalle?id=-1 UNION SELECT 1, username, password FROM users</code>
        </small>
    </div>
    
    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
